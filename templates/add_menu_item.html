{% extends "base.html" %}
{% load static %}
{% block content %}
    <div class="container mt-4 text-white ">
        <form method="post" enctype="multipart/form-data">
            {% csrf_token %}

            <div class="form-group">
                <label for="{{ form.name.id_for_label }}">Name:</label>
                {{ form.name }}
            </div>
            
            <fieldset class="form-group mt-2">
                <legend>Has Tomato Sauce?</legend>
                {% for radio in form.has_tomato %}
                    <div class="form-check form-check-inline">
                        {{ radio.tag }}
                        <label class="form-check-label" for="{{ radio.id_for_label }}">{{ radio.choice_label }}</label>
                    </div>
                {% endfor %}
            </fieldset>
            
            <fieldset class="form-group mt-2">
                <legend>Has Mozzarella?</legend>
                {% for radio in form.has_mozzarella %}
                    <div class="form-check form-check-inline">
                        {{ radio.tag }}
                        <label class="form-check-label" for="{{ radio.id_for_label }}">{{ radio.choice_label }}</label>
                    </div>
                {% endfor %}
            </fieldset>
            
            <div class="form-group mt-3">
                <label for="{{ form.image.id_for_label }}">Image:</label>
                {{ form.image }}
            </div>
        
            <div class="mt-3" id="ingredient-selectors">
                {% for i in "1234567890" %}
                    <div class="ingredient-selector" style="display:none;">
                        <p class="ingredient-number">Ingredient #{{ forloop.counter }}</p>
                        <select name="ingredient_{{ i }}">
                            <option value="">Choose an ingredient...</option>
                            {% for category, ingredients in ingredient_choices %}
                                <optgroup label="{{ category }}">
                                    {% for ingredient in ingredients %}
                                        <option value="{{ ingredient.0 }}">{{ ingredient.1 }}</option>
                                    {% endfor %}
                                </optgroup>
                            {% endfor %}
                        </select>
                    </div>
                {% endfor %}
            </div>
            
            <div>
                <button type="button" class="mt-3 mb-2" id="add-ingredient">Add Ingredient</button>
            </div>

            <div class="mb-5">
                <button type="submit">Submit</button>
            </div>
        </form>
    </div>
{% endblock %}